# Running Browsers In The Cloud

If you've ever needed to test features in an older browser like Internet Explorer 8 then odds are you ran a virtual machine (VM) on your computer with a "legit" version of Windows XP.

Handy, but what happens when you need to check things on multiple versions of IE? Now you're looking at multiple VMs. And what about when you need to scale and cover other browser and Operating System (OS) combinations? Now you're looking at provisioning, running, and maintaining your own set of machines and standing up something like Selenium Grid to coordinate tests across them.

Rather than take on the overhead of a test infrastructure you can easily outsource things to a third-party cloud provider like Sauce Labs.

## A Selenium Remote, Selenium Grid, And Sauce Labs Primer

At the heart of Selenium at scale is the use of Selenium Grid and Selenium Remote.

Selenium Grid lets you distribute test execution across several machines and you connect to it with Selenium Remote. You specifying the browser, browser version, and operating system through the use of Selenium Remote's `DesiredCapabilities`.

Under the hood this is how Sauce Labs works. They are ultimately running Selenium Grid, and they receive and execute tests through Selenium Remote and `DesiredCapabilities`.

Let's dig in with an example.

## An Example

### Part 1: Initial Setup

__NOTE: You'll need an account to use Sauce Labs. Their [free trial](https://saucelabs.com/signup/trial) offers enough to get you started. And if you're signing up because you want to test an open source project, then be sure to check out their ['Open Sauce' account](https://saucelabs.com/opensauce).__

With Sauce Labs we need to provide specifics about what we want in our test environment, our credentials, and configure Selenium a little bit differently than we have been. Let's start by updating our `Config` interface so it includes the variables we'll need.

```java
```

Notice the use of a host variable. This is what we'll use in our `` file to determine whether to run things locally or in the cloud. And we'll use the other variables to populate the `DesiredCapabilities`.

```java
// filename: tests/Base.java
```

### Part 2: Test Name
### Part 3: Test Status

Now when we run our tests (``) and navigate to [our Sauce Labs Account page](https://saucelabs.com/account), we should see our tests running like before -- but now when they finish there should be a proper test status (e.g., 'Pass' or 'Fail').

### Part 4: Sauce Connect

There are various ways that companies make their pre-production application available for testing. Some use an obscure public URL and protect it with some form of authentication (e.g., Basic Auth, or cert based authentication). Others keep it behind their firewall.

For those that stay behind a firewall, Sauce Labs has got you covered. They have a program called [Sauce Connect](https://saucelabs.com/docs/connect) that creates a secure tunnel between your machine and their cloud. With it, you can run tests in Sauce Labs and still have them reach the apps that are only available on your network.

If we navigate to [our Sauce Labs Tunnel Status page](https://saucelabs.com/tunnels) then we should see a tunnel listed as active. And if we navigate to [our Sauce Labs Account page](https://saucelabs.com/account) then we should see each of the tests running in their own job -- each executing against our local server.

Once the tests finish, the tunnel should close. We can quickly confirm this by revisiting [the Sauce Labs Tunnel Status page](https://saucelabs.com/tunnels).
