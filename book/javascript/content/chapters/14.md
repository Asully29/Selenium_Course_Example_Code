# Speeding Up Your Test Runs

We've made huge strides by leveraging page objects, a base page object, explicit waits, and connecting our tests to Sauce Labs. But we're not done yet. Our tests still take a good deal of time to run since they're executing in series (e.g., one after another). As our suite grows this slowness will grow with it.

With parallelization we can easily remedy this pain before it becomes acute by executing multiple tests at the same time.

Thankfully, this is simple to accomplish with [`mocha-parallel-tests`](https://www.npmjs.com/package/mocha-parallel-tests).

## Setup

First we need to install mocha-parallel-tests. So let's update our `package.json` file and use `npm install` to install it.

```javascript
// filename: package.json
{
  "name": "selenium-guidebook-examples",
  "dependencies": {
    "mocha": "^6.1.4",
    "mocha-parallel-tests": "2.1.0",
    "selenium-webdriver": "^4.0.0-alpha.1"
  }
}
```

__NOTE: Alternatively we could have installed the library and have our package.json file auto-updated by using `npm install package-name --save`.__

Once installed you can run mocha tests in parallel through the binary executor provided by mocha-parallel-tests.

```sh
mocha-parallel-tests test/*Test.js
```

The concurrency limit for parallel execution can be controlled with the `--max-parallel` command-line flag. By default it's set to the number of CPU cores on your computer.

__NOTE: If you're using Sauce Labs you'll have a concurrency limit (e.g., number of available concurrent virtual machines you can use). It's listed on the My Account page in the [Account Dashboard](https://saucelabs.com/account). This number will be the limiter to how many parallel tests you can run at once. If you send more jobs than your concurrency limit, Sauce Labs will queue the excess and run them as the initial batch of jobs finish.__

## Random Order Execution

When enabling parallel execution in your tests you may start to see odd, inconsistent behavior that is hard to track down.

This can be due to dependencies between tests that you didn't know were there. A great way to expose these kinds of issues and ensure your tests are ready for prime time is to execute them in a random order. This also has the added benefit of exercising the application you're testing in a random order (which could unearth previously unnoticed bugs).

This is functionality which is still being built for Mocha, so it's not available yet. But you can follow along with its progress [here](https://github.com/mochajs/mocha/issues/902).


