# Flexible Test Execution

In order to get the most out of our tests we'll want a way to break them up into relevant, targeted chunks. Running tests in smaller groupings like this (along with parallel execution) will help keep test run times to a minimum and help enhance the amount of feedback you get in a timely fashion.

With [NUnit's Category Attribute](https://github.com/nunit/docs/wiki/Category-Attribute) we're able to easily achieve test grouping. It's a simple matter of adding the Category Attribute to either a test method or test class along with a helpful name.

Let's step how to set this up.

## Specifying Categories

```csharp
// filename: Tests/LoginTest.cs
// ...
        [Test]
        [Category("Shallow")]
        public void ValidAccount()
        {
            Login.With("tomsmith", "SuperSecretPassword!");
            Assert.That(Login.SuccessMessagePresent);
        }

        [Test]
        [Category("Deep")]
        public void BadPasswordProvided()
        {
            Login.With("tomsmith", "bad password");
            Assert.That(Login.FailureMessagePresent);
        }
// ...
```

```csharp
// filename: Tests/DynamicLoadingTest.cs
// ...
    [TestFixture]
    [Parallelizable]
    [Category("Deep")]
    class DynamicLoadingTest : BaseTest
// ...
```

In both of our test files we've applied two different categories, `"Shallow"` and `"Deep"`. "Shallow" tests are roughly equivalent to "smoke" or "sanity" tests. These should pass before you can consider running other tests which aren't as mission critical and may take longer to run (e.g., "Deep").

Categories are powerful since they can be applied across different test files, enabling you to create a dynamic grouping of tests at runtime.

## Running Categories

With `dotnet test` we can specify which category to launch at runtime.

To run a specific test category we need to append an additional argument when running the tests, like so:

```text
dotnet test --filter TestCategory=category name
```

Here are the available execution commands given for our current categories:

```text
dotnet test --filter TestCategory=Shallow
dotnet test --filter TestCategory=Deep
```

For more info on this functionality and other available options, check out the [NUnit Category documentation](https://github.com/nunit/docs/wiki/Category-Attribute) and the [dotnet Test Selection Documentation](https://github.com/Microsoft/vstest-docs/blob/master/docs/filter.md).


